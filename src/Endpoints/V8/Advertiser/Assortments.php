<?php

/**
 * This file is auto-generated by
 * Inktweb\Bolcom\RetailerApi\Development\Generator\Endpoints
 */

namespace Inktweb\Bolcom\RetailerApi\Endpoints\V8\Advertiser;

use GuzzleHttp\Exception\GuzzleException;
use Inktweb\Bolcom\RetailerApi\Contracts\Endpoint;
use Inktweb\Bolcom\RetailerApi\Exceptions\ApiException;
use Inktweb\Bolcom\RetailerApi\Exceptions\Enum\UnknownCollectionFormatException;
use Inktweb\Bolcom\RetailerApi\Exceptions\UnexpectedResponseContentTypeException;
use Inktweb\Bolcom\RetailerApi\Models\V8\Advertiser\Assortments as AssortmentsAdvertiserModel;
use Inktweb\Bolcom\RetailerApi\Models\V8\Advertiser\Problem;

final class Assortments extends Endpoint
{
    /**
     * Get a list of products available for advertising.
     *
     * Gets a list of all products that the advertiser is selling on the
     * bol.com platform and that are available for advertising.
     *
     * @throws ApiException
     * @throws GuzzleException
     * @throws UnexpectedResponseContentTypeException
     * @throws UnknownCollectionFormatException
     */
    public function getAssortments(?int $page = null): AssortmentsAdvertiserModel
    {
        return AssortmentsAdvertiserModel::fromArray(
            $this->request(
                'get',
                '/advertiser/assortments',
                [],
                [
                    'page' => $page,
                ],
                null,
                [
                    'application/vnd.advertiser.v8+json',
                ],
                [
                    'application/vnd.advertiser.v8+json',
                ],
                [
                    400 => Problem::class,
                ]
            )->getBody()->getJson()
        );
    }
}
